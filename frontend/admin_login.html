<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>管理员登录 - IMBA 智能考试系统</title>
<script src="https://cdn.tailwindcss.com/3.4.16"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css" rel="stylesheet">
<script>
tailwind.config = {
theme: {
extend: {
colors: {
primary: '#1A237E',
secondary: '#3F51B5'
},
borderRadius: {
'none': '0px',
'sm': '4px',
DEFAULT: '8px',
'md': '12px',
'lg': '16px',
'xl': '20px',
'2xl': '24px',
'3xl': '32px',
'full': '9999px',
'button': '8px'
}
}
}
}
</script>
<style>
:where([class^="ri-"])::before {
content: "\f3c2";
}
.admin-bg {
background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}
.form-input {
transition: all 0.3s ease;
}
.form-input:focus {
box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
}
.error-shake {
animation: shake 0.5s ease-in-out;
}
@keyframes shake {
0%, 100% { transform: translateX(0); }
25% { transform: translateX(-5px); }
75% { transform: translateX(5px); }
}
.loading-spinner {
animation: spin 1s linear infinite;
}
@keyframes spin {
from { transform: rotate(0deg); }
to { transform: rotate(360deg); }
}
</style>
</head>
<body class="admin-bg min-h-screen">
<div class="min-h-screen flex flex-col">
<!-- Header -->
<div class="bg-white shadow-sm border-b">
<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex items-center h-16">
<a href="/" class="flex items-center space-x-2 text-gray-600 hover:text-primary transition-colors">
<div class="w-8 h-8 flex items-center justify-center">
<i class="ri-arrow-left-line text-lg"></i>
</div>
<span class="font-medium">返回首页</span>
</a>
<div class="flex-1 text-center">
<div class="flex items-center justify-center space-x-3">
<div class="w-8 h-8 flex items-center justify-center">
<img src="https://static.readdy.ai/image/3c1ff9a008dc8b425236e4faed5d7924/c0ad19844b74c75ecb76a8cc5a6f9bd3.jfif" alt="IMBA Logo" class="w-full h-full object-contain">
</div>
<div class="font-bold text-lg text-primary">IMBA 智能考试 - 管理员</div>
</div>
</div>
<div class="w-16"></div>
</div>
</div>
</div>

<!-- Main Content -->
<div class="flex-1 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
<div class="max-w-md w-full space-y-8">
<!-- Title Section -->
<div class="text-center">
<div class="w-20 h-20 bg-primary rounded-full flex items-center justify-center mx-auto mb-6">
<i class="ri-admin-line text-white text-2xl"></i>
</div>
<h1 class="text-3xl font-bold text-gray-900 mb-2">管理员登录</h1>
<p class="text-lg text-gray-600">请输入管理员凭据以访问管理面板</p>
</div>

<!-- Login Form -->
<div class="bg-white rounded-2xl shadow-lg p-8">
<form id="adminLoginForm" class="space-y-6">
<!-- Username Input -->
<div>
<label for="username" class="block text-sm font-medium text-gray-700 mb-2">
用户名 <span class="text-red-500">*</span>
</label>
<input
type="text"
id="username"
name="username"
required
placeholder="请输入管理员用户名"
class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-sm"
>
<div id="usernameError" class="text-red-500 text-xs mt-1 hidden"></div>
</div>

<!-- Password Input -->
<div>
<label for="password" class="block text-sm font-medium text-gray-700 mb-2">
密码 <span class="text-red-500">*</span>
</label>
<input
type="password"
id="password"
name="password"
required
placeholder="请输入管理员密码"
class="form-input w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent outline-none text-sm"
>
<div id="passwordError" class="text-red-500 text-xs mt-1 hidden"></div>
</div>

<!-- Submit Button -->
<button
type="submit"
id="submitButton"
class="w-full bg-primary text-white py-3 px-6 !rounded-button font-semibold hover:bg-opacity-90 transition-colors whitespace-nowrap flex items-center justify-center space-x-2"
>
<span id="buttonText">登录管理面板</span>
<div id="loadingSpinner" class="w-4 h-4 border-2 border-white border-t-transparent rounded-full loading-spinner hidden"></div>
</button>

<!-- General Error Message -->
<div id="generalError" class="text-red-500 text-sm text-center hidden"></div>
</form>
</div>

<!-- Security Notice -->
<div class="text-center text-xs text-gray-500 space-y-1">
<p>管理员凭据用于系统配置和题库管理</p>
<p>请妥善保管您的登录信息</p>
</div>
</div>
</div>
</div>

<script>
class AdminLogin {
constructor() {
this.form = document.getElementById('adminLoginForm');
this.usernameInput = document.getElementById('username');
this.passwordInput = document.getElementById('password');
this.submitButton = document.getElementById('submitButton');
this.buttonText = document.getElementById('buttonText');
this.loadingSpinner = document.getElementById('loadingSpinner');
this.generalError = document.getElementById('generalError');
this.init();
}

init() {
this.setupEventListeners();
}

setupEventListeners() {
this.form.addEventListener('submit', (e) => this.handleSubmit(e));
}

async handleSubmit(e) {
e.preventDefault();
this.clearErrors();

const username = this.usernameInput.value.trim();
const password = this.passwordInput.value.trim();

if (!username || !password) {
this.showError('请填写用户名和密码');
return;
}

this.setLoading(true);

try {
const response = await fetch('/api/admin/login', {
method: 'POST',
headers: {
'Content-Type': 'application/json',
},
body: JSON.stringify({
username: username,
password: password
})
});

const result = await response.json();

if (result.success) {
// 登录成功，跳转到管理面板
window.location.href = '/admin/dashboard';
} else {
this.showError(result.message || '登录失败');
}
} catch (error) {
console.error('登录错误:', error);
this.showError('网络错误，请稍后重试');
} finally {
this.setLoading(false);
}
}

setLoading(loading) {
this.submitButton.disabled = loading;
if (loading) {
this.buttonText.textContent = '登录中...';
this.loadingSpinner.classList.remove('hidden');
} else {
this.buttonText.textContent = '登录管理面板';
this.loadingSpinner.classList.add('hidden');
}
}

showError(message) {
this.generalError.textContent = message;
this.generalError.classList.remove('hidden');
}

clearErrors() {
this.generalError.classList.add('hidden');
}
}

// 初始化管理员登录
const adminLogin = new AdminLogin();
</script>
</body>
</html>
